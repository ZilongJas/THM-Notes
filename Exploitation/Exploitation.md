### Port Scanning 
- first enter `msfconsole`
- ```bash
  search portscan
  ```
- list potential port scanning modules
- ```bash
   use #
   ```
- in this case, we are using `scanner/portscan/tcp`
- ```bash
  show options
  ```
    - CONCURRENCY: Number of targets to be scanned simultaneously.
    - PORTS: Port range to be scanned. Please note that 1-1000 here will not be the same as using Nmap with the default configuration. Nmap will scan the 1000 most used ports, while Metasploit will scan port numbers from 1 to 10000.
    - RHOSTS: Target or target network to be scanned.
    - THREADS: Number of threads that will be used simultaneously. More threads will result in faster scans.
- nmap works inside the msfconsole
___
### UDP service Identificaftion
- `scanner/discovery/udp_sweep`
- this module will allow you to quickly identify services running over the UDP (User Datagram Protocol). This module will not conduct an extensive scan of all possible UDP services but does provide a quick way to identify services such as DNS or NetBIOS.
- ```bash
  setg RHOSTS [target_ip]
  ```
  - set the target ip globally
- ```bash
    run
  ```
  - runs the scanner
___
### SMB Scans
- SMB (Server Message Block) is a network protocol used for sharing files, printers, and other resources between computers.
- `scanner/smb/smb_version` or `scanner/smb/smb_enumshares`
- find SMB server details and list shared resources
- `http_version` module will find what http version, must change RPORT to the one you want to scan 
- `smb_login` brute forces the login
  - must `show options` and set up the wordlist file and the username then run
___
### Metasploit Database
- in an actual penetration testiing engagement, there will be likely have several targets. Metasploit has a database function to simplify project management
- ```bash
  systemctl start postgresql
  ```
- ```bash
  msfdb init
  ```
- launch `msfconsole`
- ```bash
  db_status
  ```
  check database status
- ```bash
  workspace
  ```
  list avaiable workspaces
  `-a` add a workspace
  `-d` delete a workspace
  EX:
- ```bash
  workspace -a tryhackme
  ```
- ```bash
  workspace [name]
  ```
  to switch between workspacaes
- ```bash
  workspace -h
  ```
  list avaiable options    
- `db_nmap` runs nmap and import the results to the metaspolit database
- resulted information can be retrived from `hosts` and `services`. the `-h` flag will give more options
___
### Example using the database
- pick a vulnerability scanner
- ```bash
  hosts -R
  ```
  uses the data we collected from db_nmap to import the RHOSTS value
- `run` or `exploit`
- ```bash
  services -S netbios
  ```
  `-S` parameter to search for services in the envirement
  
  - HTTP: Could potentially host a web application where you can find vulnerabilities like SQL injection or Remote Code Execution (RCE). 
  - FTP: Could allow anonymous login and provide access to interesting files. 
  -  SMB: Could be vulnerable to SMB exploits like MS17-010
  - SSH: Could have default or easy to guess credentials
  -  RDP: Could be vulnerable to Bluekeep or allow desktop access if weak credentials were used. 
___
### Vulnerability Scanning
- Identifiying a 'low hanging fruit' aka easily indentifiable and exploitable vulnerabilities that could allow us to gain a foothold on a system.
- thus, getting good at scanning and finding out what the target system's services are running and use the search function to search for exploits etc...
- `info` on any modules to have a better understanding of its use and purpose




















